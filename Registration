/*

 * To change this license header, choose License Headers in Project Properties.

 * To change this template file, choose Tools | Templates

 * and open the template in the editor.

 */

package jabslist;




import java.awt.event.ActionEvent;

import java.util.Arrays;




/**

 *

 * @author andrew.demaio

 * Last Edit : 11/17/15

 */

public class REGISTER extends javax.swing.JFrame {




    /**

     * Creates new form REGISTER

     */

    public REGISTER() {

        prev = null;

        initComponents();

    }

    

    public REGISTER(LOGIN log){

        prev = log;

        initComponents();

    }




    /**

     * This method is called from within the constructor to initialize the form.

     * WARNING: Do NOT modify this code. The content of this method is always

     * regenerated by the Form Editor.

     */

    @SuppressWarnings("unchecked")

    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          

    private void initComponents() {




        firstName = new javax.swing.JLabel();

        firstNameField = new javax.swing.JTextField();

        lastName = new javax.swing.JLabel();

        lastNameField = new javax.swing.JTextField();

        emailLabel = new javax.swing.JLabel();

        emailField = new javax.swing.JTextField();

        passwordL = new javax.swing.JLabel();

        passwordField = new javax.swing.JPasswordField();

        confirmPassword = new javax.swing.JLabel();

        confirmPasswordField = new javax.swing.JPasswordField();

        uniLabel = new javax.swing.JLabel();

        uniComboBox = new javax.swing.JComboBox<>();

        REGISTER = new javax.swing.JButton();

        CANCEL = new javax.swing.JButton();

        ifEmailTaken = new javax.swing.JLabel();

        misMatchPass2 = new javax.swing.JLabel();

        misMatchPass = new javax.swing.JLabel();

        unSelectedUni = new javax.swing.JLabel();

        firstNameError = new javax.swing.JLabel();

        lastNameError = new javax.swing.JLabel();

        successLabel = new javax.swing.JLabel();




        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        setTitle("JABSList Register");

        setAlwaysOnTop(true);

        setBounds(new java.awt.Rectangle(0, 0, 425, 310));

        setLocation(new java.awt.Point(450, 250));

        setMaximizedBounds(new java.awt.Rectangle(0, 0, 425, 310));

        setName("registerFrame"); // NOI18N

        setPreferredSize(new java.awt.Dimension(425, 305));

        setResizable(false);

        setSize(new java.awt.Dimension(425, 305));

        addWindowListener(new java.awt.event.WindowAdapter() {

            public void windowClosed(java.awt.event.WindowEvent evt) {

                formWindowClosed(evt);

            }

        });




        firstName.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        firstName.setText("First Name: ");




        lastName.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        lastName.setText("Last Name: ");




        emailLabel.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        emailLabel.setText("E-Mail: ");




        passwordL.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        passwordL.setText("Password:");




        passwordField.setToolTipText("Passwords must be more than 6 characters");




        confirmPassword.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        confirmPassword.setText("Confirm:");




        confirmPasswordField.setToolTipText("Passwords must be more than 6 characters");




        uniLabel.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        uniLabel.setText("University:");




        uniComboBox.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Select a University. . .", "College of Staten Island", "Wagner College", "St. Johns College", "Hunter College" }));




        REGISTER.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        REGISTER.setText("REGISTER");

        REGISTER.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {

                REGISTERActionPerformed(evt);

            }

        });




        CANCEL.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        CANCEL.setText("CANCEL");

        CANCEL.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {

                CANCELActionPerformed(evt);

            }

        });




        ifEmailTaken.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        ifEmailTaken.setForeground(new java.awt.Color(255, 0, 0));




        misMatchPass2.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        misMatchPass2.setForeground(new java.awt.Color(255, 0, 0));

        misMatchPass2.setToolTipText("");

        misMatchPass2.setName(""); // NOI18N




        misMatchPass.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        misMatchPass.setForeground(new java.awt.Color(255, 0, 0));




        unSelectedUni.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        unSelectedUni.setForeground(new java.awt.Color(255, 0, 0));




        firstNameError.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        firstNameError.setForeground(new java.awt.Color(255, 0, 0));




        lastNameError.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        lastNameError.setForeground(new java.awt.Color(255, 0, 0));




        successLabel.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N

        successLabel.setText("All fields above must be filled out!");




        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());

        getContentPane().setLayout(layout);

        layout.setHorizontalGroup(

            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

            .addGroup(layout.createSequentialGroup()

                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

                    .addGroup(layout.createSequentialGroup()

                        .addContainerGap()

                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

                            .addGroup(layout.createSequentialGroup()

                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

                                    .addComponent(lastName)

                                    .addComponent(emailLabel)

                                    .addComponent(firstName))

                                .addGap(18, 18, 18)

                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

                                    .addComponent(firstNameField, javax.swing.GroupLayout.PREFERRED_SIZE, 180, javax.swing.GroupLayout.PREFERRED_SIZE)

                                    .addComponent(emailField, javax.swing.GroupLayout.PREFERRED_SIZE, 180, javax.swing.GroupLayout.PREFERRED_SIZE)

                                    .addComponent(lastNameField, javax.swing.GroupLayout.PREFERRED_SIZE, 180, javax.swing.GroupLayout.PREFERRED_SIZE)))

                            .addGroup(layout.createSequentialGroup()

                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

                                    .addComponent(confirmPassword)

                                    .addComponent(uniLabel)

                                    .addComponent(passwordL))

                                .addGap(23, 23, 23)

                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

                                    .addComponent(confirmPasswordField, javax.swing.GroupLayout.PREFERRED_SIZE, 180, javax.swing.GroupLayout.PREFERRED_SIZE)

                                    .addComponent(passwordField, javax.swing.GroupLayout.PREFERRED_SIZE, 180, javax.swing.GroupLayout.PREFERRED_SIZE)

                                    .addComponent(uniComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, 180, javax.swing.GroupLayout.PREFERRED_SIZE))))

                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)

                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

                            .addComponent(misMatchPass)

                            .addComponent(misMatchPass2)

                            .addComponent(unSelectedUni)

                            .addComponent(lastNameError)

                            .addComponent(ifEmailTaken)

                            .addComponent(firstNameError)))

                    .addGroup(layout.createSequentialGroup()

                        .addGap(56, 56, 56)

                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

                            .addComponent(successLabel)

                            .addGroup(layout.createSequentialGroup()

                                .addComponent(REGISTER, javax.swing.GroupLayout.PREFERRED_SIZE, 95, javax.swing.GroupLayout.PREFERRED_SIZE)

                                .addGap(53, 53, 53)

                                .addComponent(CANCEL, javax.swing.GroupLayout.PREFERRED_SIZE, 95, javax.swing.GroupLayout.PREFERRED_SIZE)))))

                .addGap(119, 119, 119))

        );

        layout.setVerticalGroup(

            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

            .addGroup(layout.createSequentialGroup()

                .addContainerGap()

                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)

                    .addComponent(firstName, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)

                    .addComponent(firstNameField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)

                    .addComponent(firstNameError))

                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)

                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)

                    .addComponent(lastName, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)

                    .addComponent(lastNameField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)

                    .addComponent(lastNameError))

                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)

                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)

                    .addComponent(emailLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)

                    .addComponent(emailField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)

                    .addComponent(ifEmailTaken))

                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)

                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)

                    .addComponent(passwordL, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)

                    .addComponent(passwordField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)

                    .addComponent(misMatchPass, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE))

                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)

                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)

                    .addComponent(confirmPassword, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)

                    .addComponent(confirmPasswordField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)

                    .addComponent(misMatchPass2))

                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)

                    .addGroup(layout.createSequentialGroup()

                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)

                        .addComponent(unSelectedUni))

                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()

                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)

                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)

                            .addComponent(uniLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)

                            .addComponent(uniComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))

                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)

                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)

                    .addComponent(REGISTER)

                    .addComponent(CANCEL))

                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)

                .addComponent(successLabel)

                .addContainerGap(62, Short.MAX_VALUE))

        );




        unSelectedUni.getAccessibleContext().setAccessibleDescription("");




        pack();

    }// </editor-fold>                        




    private void CANCELActionPerformed(java.awt.event.ActionEvent evt) {                                       

        if(prev != null)

            prev.setEnabled(true);

        this.dispose();

    }                                      




    private void formWindowClosed(java.awt.event.WindowEvent evt) {                                  

        if(prev != null){

            prev.setEnabled(true);

            prev.show();

           }

    }                                 




    private void REGISTERActionPerformed(java.awt.event.ActionEvent evt) {                                         

        RegisterSuccess = new boolean[5];

        boolean [] SuccessFlag = {true,true,true,true,true};

        if(firstNameField.getText().equals("")){ // START OF NAMING CONDITIONAL BLOCK

           firstNameError.setText("!");

           RegisterSuccess[0] = false;

        }

       else {

            firstNameError.setText("");

            RegisterSuccess[0] = true;

        }

       

       if(lastNameField.getText().equals("")){

           lastNameError.setText("!");

           RegisterSuccess[1] = false;

       }

       else {

           lastNameError.setText("");

           RegisterSuccess[1] = true;

       } // END OF NAMING CONDITIONAL BLOCK

             

       if(emailField.getText().equals("")){

           ifEmailTaken.setText("!");

           RegisterSuccess[2] = false;

       } // EMAIL CONDITIONAL BLOCK TO BE ADDED ONTO

       else {

           ifEmailTaken.setText("");

           RegisterSuccess[2] = true;

       }

       

       if(passwordField.getPassword().length == 0){ /* START OF PASSWORD CONDITIONAL BLOCK */

            misMatchPass.setText("!");

            misMatchPass2.setText("!");

            successLabel.setText("All fields above must be filled out");

            RegisterSuccess[3] = false;

        }

        else if(passwordField.getPassword().length < 6){

            misMatchPass.setText("!");

            misMatchPass2.setText("!");

            successLabel.setText("Password must be longer than 6 characters");

            RegisterSuccess[3] = false;

        }

        else if(!Arrays.equals(passwordField.getPassword(),confirmPasswordField.getPassword())){

          misMatchPass.setText("!");

          misMatchPass2.setText("!");

          successLabel.setText("Passwords do not match");

          RegisterSuccess[3] = false;

        }

        else if(Arrays.equals(passwordField.getPassword(),confirmPasswordField.getPassword())){

          misMatchPass.setText("");

          misMatchPass2.setText("");

          successLabel.setText("");

          RegisterSuccess[3] = true;

        } /* END OF PASSWORD CONDITIONAL BLOCK */

        

        if(uniComboBox.getSelectedItem().toString().equals("Select a University. . .")){ // START OF UNIVERSITY CONDITONAL BLOCK

          unSelectedUni.setText("!");

          RegisterSuccess[4] = false;

        }

        else{

            unSelectedUni.setText("");

            RegisterSuccess[4] = true;

        } // END OF UNIVERSITY CONDITIONAL BLOCK

        

        if(Arrays.equals(RegisterSuccess,SuccessFlag)){

            DBConnect statement = new DBConnect();
            successLabel.setText("Registration complete, Welcome to JABSList!");
            statement.setRegistration(emailField.getText(),passwordField.getPassword().toString(),firstNameField.getText(),lastNameField.getText(),uniComboBox.getSelectedItem().toString());

            // TODO Create link to Database

        }

    }                                        




    /**

     * @param args the command line arguments

     */

    public static void main(String args[]) {

        /* Set the Nimbus look and feel */

        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">

        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.

         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 

         */

        try {

            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {

                if ("Nimbus".equals(info.getName())) {

                    javax.swing.UIManager.setLookAndFeel(info.getClassName());

                    break;

                }

            }

        } catch (ClassNotFoundException ex) {

            java.util.logging.Logger.getLogger(REGISTER.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);

        } catch (InstantiationException ex) {

            java.util.logging.Logger.getLogger(REGISTER.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);

        } catch (IllegalAccessException ex) {

            java.util.logging.Logger.getLogger(REGISTER.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);

        } catch (javax.swing.UnsupportedLookAndFeelException ex) {

            java.util.logging.Logger.getLogger(REGISTER.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);

        }

        //</editor-fold>




        /* Create and display the form */

        java.awt.EventQueue.invokeLater(new Runnable() {

            public void run() {

                new REGISTER().setVisible(true);

            }

        });

    }

    private boolean[] RegisterSuccess;

    private static LOGIN prev;

    // Variables declaration - do not modify                     

    private javax.swing.JButton CANCEL;

    private javax.swing.JButton REGISTER;

    private javax.swing.JLabel confirmPassword;

    private javax.swing.JPasswordField confirmPasswordField;

    private javax.swing.JTextField emailField;

    private javax.swing.JLabel emailLabel;

    private javax.swing.JLabel firstName;

    private javax.swing.JLabel firstNameError;

    private javax.swing.JTextField firstNameField;

    private javax.swing.JLabel ifEmailTaken;

    private javax.swing.JLabel lastName;

    private javax.swing.JLabel lastNameError;

    private javax.swing.JTextField lastNameField;

    private javax.swing.JLabel misMatchPass;

    private javax.swing.JLabel misMatchPass2;

    private javax.swing.JPasswordField passwordField;

    private javax.swing.JLabel passwordL;

    private javax.swing.JLabel successLabel;

    private javax.swing.JLabel unSelectedUni;

    private javax.swing.JComboBox<String> uniComboBox;

    private javax.swing.JLabel uniLabel;

    // End of variables declaration                   

}
